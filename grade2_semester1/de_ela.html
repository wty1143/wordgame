<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Pack çµ‚æ¥µå¤§æœƒè€ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Noto+Sans+TC:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%);
            min-height: 100vh;
        }

        .game-font { font-family: 'Luckiest Guy', cursive; }

        .correct-bg { background-color: #10b981 !important; color: white !important; }
        .wrong-bg { background-color: #ef4444 !important; color: white !important; }

        .btn-choice {
            background-color: white;
            border: 4px solid #f3f4f6;
            border-radius: 1.25rem;
            padding: 1.25rem;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.2s;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .btn-choice:hover {
            border-color: #fb923c;
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .color-dot {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 1px solid #ddd;
            margin-right: 8px;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">

<div id="game-container" class="bg-white rounded-3xl shadow-2xl p-6 w-full max-w-2xl text-center border-8 border-orange-100">
    
    <!-- Start Screen -->
    <div id="start-screen" class="space-y-6 py-8">
        <h1 class="text-5xl font-bold text-orange-500 game-font">Course Pack Review</h1>
        <div class="bg-orange-50 p-4 rounded-xl text-orange-700 font-bold">
            æ¶µè“‹ï¼šPhonics, Colors, & Advanced Grammar
        </div>
        
        <div class="grid grid-cols-1 gap-4 justify-items-center">
            <button onclick="startGame('phonics')" class="w-72 bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 rounded-full shadow-lg text-xl transition transform hover:scale-105">
                ğŸ—£ï¸ Phonics èªéŸ³æŒ‘æˆ°
            </button>
            <button onclick="startGame('color_clothes')" class="w-72 bg-pink-500 hover:bg-pink-500 text-white font-bold py-4 rounded-full shadow-lg text-xl transition transform hover:scale-105">
                ğŸŒˆ é¡è‰²èˆ‡è¡£æœæŒ‘æˆ°
            </button>
            <button onclick="startGame('conversation')" class="w-72 bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-4 rounded-full shadow-lg text-xl transition transform hover:scale-105">
                ğŸ¤ å°è©±èˆ‡ç”Ÿæ´»å¥å‹
            </button>
        </div>
        <p class="text-xs text-gray-400 mt-4 italic">Including: bl, cl, fl, cr, br, fr & Teal color!</p>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="hidden space-y-6">
        <div class="flex justify-between items-center bg-gray-50 p-3 rounded-xl border border-gray-100">
            <span id="progress-text" class="font-bold text-orange-400">Question 1/10</span>
            <span id="score-text" class="font-bold text-blue-400">Score: 0</span>
        </div>
        
        <div id="question-box" class="space-y-6">
            <h2 id="question-title" class="text-2xl font-bold text-gray-700 leading-relaxed min-h-[4rem] flex items-center justify-center">è¼‰å…¥ä¸­...</h2>
            <div id="visual-cue" class="text-8xl py-8 bg-gradient-to-b from-white to-gray-50 rounded-3xl shadow-inner border border-gray-100 flex items-center justify-center">â“</div>
            
            <div id="options-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <!-- Options -->
            </div>
        </div>

        <div id="feedback-msg" class="h-10 flex items-center justify-center font-bold text-lg"></div>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="hidden space-y-6 py-10">
        <h2 class="text-4xl font-bold text-orange-600 game-font">You're a Star!</h2>
        <div class="text-xl text-gray-600">ä½ çš„ç¸½å¾—åˆ†</div>
        <div class="text-8xl font-bold text-blue-500 game-font" id="final-score">0</div>
        <p class="text-lg text-gray-500 px-8" id="result-text">æ˜å¤©è€ƒè©¦å¤§å‰å¤§åˆ©ï¼</p>
        <button onclick="resetGame()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-10 rounded-full shadow-lg text-xl transition">
            é‡æ–°è¤‡ç¿’
        </button>
    </div>
</div>

<script>
    const phonicsData = [
        { q: "Which word starts with 'bl'?", a: "black", options: ["black", "flag", "clock", "friend"], cue: "â¬›" },
        { q: "Which word starts with 'cl'?", a: "clam", options: ["clam", "blob", "fly", "crib"], cue: "ğŸš" },
        { q: "Which word starts with 'fl'?", a: "flag", options: ["flag", "clock", "black", "frog"], cue: "ğŸš©" },
        { q: "Which word starts with 'cr'?", a: "crayon", options: ["crayon", "bread", "friend", "fly"], cue: "ğŸ–ï¸" },
        { q: "Which word starts with 'br'?", a: "bread", options: ["bread", "brush", "frog", "flag"], cue: "ğŸ" },
        { q: "Which word starts with 'fr'?", a: "friend", options: ["friend", "frog", "crayon", "clam"], cue: "ğŸ‘«" },
        { q: "The ___ is in the crib.", a: "flag", options: ["flag", "frog", "fly", "clock"], cue: "ğŸš© + ğŸ‘¶" },
        { q: "My ___ likes bread.", a: "friend", options: ["friend", "frog", "brush", "clam"], cue: "ğŸ‘« + ğŸ" },
        { q: "Which one is 'blob'?", a: "bl", options: ["bl", "cl", "fl", "cr"], cue: "ğŸ’§ (blob)" },
        { q: "Which one is 'brush'?", a: "br", options: ["br", "fr", "cr", "bl"], cue: "ğŸ–Œï¸" }
    ];

    const colorClothesData = [
        { q: "He's wearing a white shirt and ___ pants.", a: "gray", options: ["gray", "teal", "pink", "black"], cue: "ğŸ‘–(ç°è‰²)" },
        { q: "I'm wearing a red cap and ___ shorts.", a: "green", options: ["green", "blue", "teal", "white"], cue: "ğŸ©³(ç¶ è‰²)" },
        { q: "What color is this?", a: "teal", options: ["teal", "blue", "green", "purple"], cue: "ğŸ¨ (é’ç¶ è‰²)" },
        { q: "They're wearing ___ caps.", a: "red", options: ["red", "reds", "a red", "the red"], cue: "ğŸ‘¬ ğŸ§¢ğŸ§¢" },
        { q: "What is she wearing?", a: "a pink skirt", options: ["a pink skirt", "pink skirts", "skirt pink", "a skirt pink"], cue: "ğŸ‘§ğŸ‘—(ç²‰ç´…)" },
        { q: "He's wearing ___.", a: "brown shoes", options: ["brown shoes", "a brown shoe", "shoes brown", "browns shoes"], cue: "ğŸ‘ğŸ‘(å’–å•¡)" },
        { q: "I'm wearing ___ teal T-shirt.", a: "a", options: ["a", "an", "the", "some"], cue: "ğŸ‘•(Teal)" },
        { q: "What color is a banana?", a: "yellow", options: ["yellow", "orange", "teal", "white"], cue: "ğŸŒ" },
        { q: "She's wearing a ___ dress.", a: "purple", options: ["purple", "gray", "black", "teal"], cue: "ğŸ‘—(ç´«è‰²)" },
        { q: "Are they wearing ___ sneakers?", a: "blue", options: ["blue", "blues", "a blue", "the blue"], cue: "ğŸ‘ŸğŸ‘Ÿ(è—è‰²)" }
    ];

    const conversationData = [
        { q: "What's your phone number?", a: "It's 083456789.", options: ["It's 083456789.", "I'm fine.", "My name is Sam.", "Yes, please."], cue: "ğŸ“" },
        { q: "Do you want an apple?", a: "Yes, please.", options: ["Yes, please.", "No, thank.", "Yes, I do.", "No, she doesn't."], cue: "ğŸ? (Be polite)" },
        { q: "Does he have apples?", a: "Yes, he does.", options: ["Yes, he does.", "No, he don't.", "Yes, he has.", "No, he doesn't."], cue: "ğŸ‘¦ğŸâœ…" },
        { q: "Are they wearing boots?", a: "No, they aren't.", options: ["No, they aren't.", "No, they don't.", "Yes, they are.", "No, she isn't."], cue: "ğŸ‘¬ğŸ¥¾âŒ" },
        { q: "What are you (all) wearing?", a: "We're wearing red caps.", options: ["We're wearing red caps.", "I'm wearing a cap.", "He's wearing caps.", "They're wearing a cap."], cue: "ğŸ‘¬ğŸ§¢ğŸ§¢" },
        { q: "What does she want?", a: "She wants soup.", options: ["She wants soup.", "She want soup.", "He wants soup.", "I want soup."], cue: "ğŸ‘§ğŸ¥£" },
        { q: "Is he wearing a hat?", a: "No, he isn't.", options: ["No, he isn't.", "Yes, she is.", "No, he doesn't.", "Yes, I am."], cue: "ğŸ‘¦ğŸ‘’âŒ" },
        { q: "Do you like milk?", a: "Yes, I do.", options: ["Yes, I do.", "Yes, I like.", "No, I doesn't.", "Yes, she does."], cue: "ğŸ¥›ğŸ˜‹" },
        { q: "I ___ have apples.", a: "don't", options: ["don't", "doesn't", "not", "am not"], cue: "ğŸ™…â€â™‚ï¸ğŸ" },
        { q: "She ___ have apples.", a: "doesn't", options: ["doesn't", "don't", "has", "isn't"], cue: "ğŸ™…ğŸ‘§ğŸ" }
    ];

    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let gameActive = false;

    function startGame(mode) {
        let source;
        if (mode === 'phonics') source = phonicsData;
        else if (mode === 'color_clothes') source = colorClothesData;
        else source = conversationData;

        currentQuestions = [...source].sort(() => 0.5 - Math.random()).slice(0, 10);
        currentQuestionIndex = 0;
        score = 0;
        gameActive = true;
        
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        document.getElementById('result-screen').classList.add('hidden');
        
        loadQuestion();
    }

    function loadQuestion() {
        const qData = currentQuestions[currentQuestionIndex];
        document.getElementById('progress-text').innerText = `Question ${currentQuestionIndex + 1}/10`;
        document.getElementById('score-text').innerText = `Score: ${score}`;
        document.getElementById('question-title').innerText = qData.q;
        document.getElementById('visual-cue').innerText = qData.cue;
        
        const feedback = document.getElementById('feedback-msg');
        feedback.innerText = "";
        feedback.className = "h-10 flex items-center justify-center font-bold text-lg";
        
        const optionsGrid = document.getElementById('options-grid');
        optionsGrid.innerHTML = "";
        
        const shuffledOptions = [...qData.options].sort(() => 0.5 - Math.random());
        
        shuffledOptions.forEach(opt => {
            const btn = document.createElement('button');
            btn.innerText = opt;
            btn.className = "btn-choice";
            btn.onclick = () => checkAnswer(opt, btn);
            optionsGrid.appendChild(btn);
        });
        gameActive = true;
    }

    function checkAnswer(selected, btn) {
        if (!gameActive) return;
        gameActive = false;
        
        const qData = currentQuestions[currentQuestionIndex];
        const feedback = document.getElementById('feedback-msg');

        if (selected === qData.a) {
            score += 10;
            btn.classList.add('correct-bg');
            feedback.innerText = "Fantastic! ğŸŒŸ";
            feedback.classList.add('text-green-600');
        } else {
            btn.classList.add('wrong-bg');
            feedback.innerText = `Correct answer: ${qData.a}`;
            feedback.classList.add('text-red-600');
            Array.from(document.getElementById('options-grid').children).forEach(b => {
                if (b.innerText === qData.a) b.classList.add('bg-green-100', 'border-green-500');
            });
        }

        setTimeout(() => {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuestions.length) {
                loadQuestion();
            } else {
                showResult();
            }
        }, 1800);
    }

    function showResult() {
        document.getElementById('game-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('final-score').innerText = score;
        
        const resultText = document.getElementById('result-text');
        if (score === 100) resultText.innerText = "å®Œç¾çš„è¡¨ç¾ï¼ä½ æ˜¯è‹±æ–‡å°ç‹€å…ƒï¼ğŸ†";
        else if (score >= 80) resultText.innerText = "éå¸¸æ£’ï¼æœŸä¸­è€ƒçµ•å°é›£ä¸å€’ä½ ï¼âœ¨";
        else resultText.innerText = "å†ç·´ç¿’ä¸€ä¸‹ï¼Œä¸€å®šæœƒé€²æ­¥çš„ï¼åŠ æ²¹ï¼ğŸ’ª";
    }

    function resetGame() {
        document.getElementById('result-screen').classList.add('hidden');
        document.getElementById('start-screen').classList.remove('hidden');
    }
</script>
</body>
</html>